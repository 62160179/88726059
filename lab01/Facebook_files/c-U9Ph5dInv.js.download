if (self.CavalryLogger) { CavalryLogger.start_js(["vIbjH"]); }

__d("CometNewsFeedVPVDStore_newsFeedEdge.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"CometNewsFeedVPVDStore_newsFeedEdge"};e.exports=a}),null);
__d("CometNewsFeedVPVDStore",["CircularBuffer","CometRelay","React","emptyFunction","CometNewsFeedVPVDStore_newsFeedEdge.graphql"],(function(a,b,c,d,e,f){"use strict";f.LoggerProvider=a;var g,h=b("React");c=function(){var a=new(b("CircularBuffer"))(50);return{readRecentVPVDs:function(){var b=a.read();a.clear();return b},writeRecentVPVD:function(c,d){var e=b("CometRelay").readInlineData(g!==void 0?g:g=b("CometNewsFeedVPVDStore_newsFeedEdge.graphql"),c);c=a.read().find(function(a){var b;a=a.vsid;return(e==null?void 0:(b=e.feed_backend_data)==null?void 0:b.vsid)===a});if(c)return;a.write({evt:"vpv",fetch_tracking:e==null?void 0:(c=e.feed_backend_data)==null?void 0:c.should_recent_vpv_fetch_tracking_data,original_qid:e==null?void 0:(c=e.feed_backend_data)==null?void 0:c.original_qid,qid:e==null?void 0:(c=e.feed_backend_data)==null?void 0:c.qid,timestamp:d,vsid:e==null?void 0:(c=e.feed_backend_data)==null?void 0:c.vsid,vspos:e==null?void 0:(d=e.feed_backend_data)==null?void 0:d.vspos})}}};f.createStore=c;var i=h.createContext(),j=h.createContext(b("emptyFunction"));f.LoggerContext=j;function a(a){var b=a.children,c=a.newsFeedEdge,d=h.useContext(i);a=h.useCallback(function(a){d&&d.writeRecentVPVD(c,a)},[c,d]);return h.jsx(j.Provider,{value:a,children:b})}d=i.Provider;f.StoreProvider=d}),null);
__d("CometRouterPushViewStackContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext();e.exports=c}),null);
__d("useRoutePassthroughProps",["CometRouterRouteInfoContext","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=g.useContext(b("CometRouterRouteInfoContext"));return a==null?void 0:a.passthroughProps}}),null);
__d("CometUserActivityMonitor",["ErrorGuard","ExecutionEnvironment","SubscriptionsHandler","UFI2UserActivityIdleTimeout","UserActivity","Visibility","clearTimeout","gkx","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";f.getActivityState=a;f.subscribe=c;var g,h=[],i,j=!1,k=b("ExecutionEnvironment").canUseDOM&&b("UserActivity").isOnTab()&&b("UserActivity").isActive(b("UFI2UserActivityIdleTimeout"))?"ACTIVE":"INACTIVE",l=[],m;function n(a){j=!0;l.push.apply(l,h);var c=function(){var c=l.shift();(g||(g=b("ErrorGuard"))).applyWithGuard(function(){return c(a)},null,[],{name:"CometUserActivityMonitor"})};while(l.length)c();j=!1}function o(){if(b("gkx")("1345328"))return;var a=Math.max(0,b("UFI2UserActivityIdleTimeout")-(Date.now()-b("UserActivity").getLastActive()));b("clearTimeout")(i);a>0&&(i=b("setTimeoutAcrossTransitions")(function(){p("INACTIVE")},a))}function p(a){var b=k;k=a;b!==a&&n(a)}function a(){return k}d=function(){m==null&&(o(),m=new(b("SubscriptionsHandler"))(),m.addSubscriptions(b("UserActivity").subscribe(function(a,c){a=c.event;if(/^mouse(enter|leave|move|over|out)$/.test(a.type)&&b("UserActivity").isOnTab()===!1)return;p("ACTIVE");o()}),function(){var a=function(){p("INACTIVE"),b("clearTimeout")(i)};window.addEventListener("blur",a,{passive:!0});return{remove:function(){return window.removeEventListener(a,{passive:!0})}}}(),b("Visibility").addListener(b("Visibility").HIDDEN,function(){p("INACTIVE"),b("clearTimeout")(i)})))};f.init=d;function c(a){h.push(a);j&&l.push(a);var c=!1;return{remove:function(){if(c)return;var d=h.indexOf(a);d!==-1&&h.splice(d,1);if(j){d=l.indexOf(a);d!==-1&&l.splice(d,1)}h.length===0&&b("clearTimeout")(i);c=!0}}}b("ExecutionEnvironment").canUseDOM&&d()}),null);
__d("CometVPVDUserActivityMonitor",["CometUserActivityMonitor"],(function(a,b,c,d,e,f){"use strict";a={isUserActive:function(){return b("CometUserActivityMonitor").getActivityState()==="ACTIVE"},subscribe:function(a){var c=b("CometUserActivityMonitor").subscribe(function(b){b=b==="ACTIVE";a&&a(b)});return function(){c&&c.remove()}}};e.exports=a}),null);
__d("useVPVDImpression",["CometVPVDUserActivityMonitor","React","isIntersectionObserverEntryVPVDVisible","requireCond","useVisibilityObserver","cr:921407"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=250,i=200;function a(a){var c=a.isLite,d=a.minVisiblePx;d=d===void 0?i:d;var e=a.minVisibleTimeMs,f=e===void 0?h:e,j=a.onVPVDEnd;e=a.onVPVDStart;a=b("cr:921407")();var k=a[0];a=a[1];var l=g.useCallback(function(a){if(a.visibleDuration<f)return;j(a)},[f,j]),m=c===!0?1:d;d=g.useCallback(function(a){return b("isIntersectionObserverEntryVPVDVisible")(a,m)},[m]);c=c===!0?null:{thresholdOverride:"EXPENSIVE"};d=babelHelpers["extends"]({activityMonitorOverride:b("CometVPVDUserActivityMonitor"),isEntryInViewport:d},c);c=b("useVisibilityObserver")({onHidden:l,onVisibilityDurationUpdated:a,onVisible:e,options:d});return[c,k]}}),null);
__d("CometToasterStateManagerContext.react",["CometToasterStateManager","React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(b("CometToasterStateManager").getInstance());e.exports=c}),null);
__d("useToasterStateManager",["CometToasterStateManagerContext.react","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){return g.useContext(b("CometToasterStateManagerContext.react"))}}),null);
__d("CometFeedUnitStatusListPassiveContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(null);e.exports=c}),null);
__d("useNoopDebuggingInfoComponent",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=function(){};function a(){return[null,g]}}),null);
__d("WebVpvDurationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1837580");c=b("FalcoLoggerInternal").create("web_vpv_duration",a);e.exports=c}),null);
__d("useCometFeedUnitGapInfo",["CometFeedUnitStatusListPassiveContext","React","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=function(a){return a==="SPONSORED"||a==="ENGAGEMENT"||a==="FIXED_POSITION"||a==="PROMOTION"};function a(){var a=g.useRef(null),c=g.useContext(b("CometFeedUnitStatusListPassiveContext")),d=g.useCallback(function(a){var d;if(c==null)return null;if(a<0){b("recoverableViolation")("computeGapInfoForPosition called with invalid feed position "+a,"comet_feed");return null}var e=c();if(e[a]==null){b("recoverableViolation")("feed position "+a+" does not exist in getFeedUnitStatusListPassive (length:"+e.length+")","comet_feed");return null}d=(d=e[a])==null?void 0:d.category;if(!h(d))return null;var f=-1,g=-1,i=-1,j=-1;for(var k=a-1;k>=0;k--){var l,m=a-k;l=(l=e[k])==null?void 0:l.category;switch(l){case"ENGAGEMENT":f=f===-1?m:f;break;case"FIXED_POSITION":g=g===-1?m:g;break;case"PROMOTION":i=i===-1?m:i;break;case"SPONSORED":j=j===-1?m:j;break}if(f!==-1&&g!==-1&&i!==-1&&j!==-1)break}return{dist_to_engagement:f,dist_to_fixed:g,dist_to_promo:i,dist_to_sponsored:j,dist_to_top:a+1,story_category:d}},[c]),e=g.useCallback(function(b){var c=a.current;(b<0||c==null||c.dist_to_top!==b+1)&&(a.current=d(b));return a.current},[d]);return e}}),null);
__d("useStoryVPVDLogger",["BanzaiConsts","CometInteractionSourceContext","CometNewsFeedVPVDStore","Random","React","WebSession","WebVpvDurationFalcoEvent","gkx","requireDeferred","useCometFeedUnitGapInfo","useCurrentRoute","useVPVDImpression"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=b("requireDeferred")("Banzai"),j=b("requireDeferred")("ODS"),k=function(a,c){var d;return babelHelpers["extends"]({csp:a.position,is_agg:a.isAggregated,is_self:a.isSelfPost,logged_before:a.loggedBefore,sid_raw:b("WebSession").getId(),source:a.source,source_override:a.source_override,story_height:a.story_height,story_width:a.story_width,vpvd_start_timestamp_ms:a.visibleTime,vpvd_time_delta_ms:a.hiddenTime-((d=a.visibleTime)!=null?d:0),xt:a.encrypted_tracking},c)},l=1e3;function a(a){var c=a.interactionSourceOverride,d=a.isAggregated,e=d===void 0?null:d;d=a.isSelfPost;var f=d===void 0?null:d,m=a.position,n=a.trackable,o=h.useContext(b("CometInteractionSourceContext")),p=b("useCometFeedUnitGapInfo")();d=b("useCurrentRoute")()||{};var q=d.tracePolicy,r=h.useContext(b("CometNewsFeedVPVDStore").LoggerContext),s=h.useRef(null),t=h.useRef(null),u=h.useRef(!1);a=h.useCallback(function(a){var b=a.entry;a=a.visibleTime;r(a);s.current=(a=b==null?void 0:(a=b.boundingClientRect)==null?void 0:a.height)!=null?a:null;t.current=(b=b==null?void 0:(a=b.boundingClientRect)==null?void 0:a.width)!=null?b:null},[r]);d=h.useCallback(function(a){var d,h=a.hiddenTime;a=a.visibleTime;if(o===10){b("Random").coinflip(l)&&j.onReady(function(a){a.bumpEntityKey(3372,"comet.unknown_vpvd_tracepolicy",(a=q)!=null?a:"empty",l)});return}var r=s.current!=null?Math.round(s.current):null,v=t.current!=null?Math.round(t.current):null,w=p(m),x=k({encrypted_tracking:(d=n)!=null?d:"",hiddenTime:h,isAggregated:e,isSelfPost:f,loggedBefore:u.current,position:m,source:o,source_override:c,story_height:r,story_width:v,visibleTime:a},w);u.current=!0;b("gkx")("1837889")?b("WebVpvDurationFalcoEvent").log(function(){return{json_data:JSON.stringify(x)}}):i.onReady(function(a){a.post("comet_metrics:vpvd",x,{delay:(g||(g=b("BanzaiConsts"))).VITAL_WAIT})})},[o,p,m,n,e,f,c,q]);return b("useVPVDImpression")({onVPVDEnd:d,onVPVDStart:a})}}),null);
__d("cometGHLContentDisplayCheck",["gkx","requireCond","cr:1824699"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=!0,h=!1;function a(a){var c=document.body;c=c==null||!c.contains(a);b("cr:1824699")&&b("cr:1824699").flap(a,{notMounted:c});if(c)return g;c=a.offsetHeight===0;b("cr:1824699")&&b("cr:1824699").flap(a,{zeroHeight:c});if(b("gkx")("1529169")&&c)return h;c=Array.from(a.getElementsByTagName("img"));var d=c.length===0;b("cr:1824699")&&b("cr:1824699").flap(a,{noImages:d});if(c.length===0)return g;d=c.find(i)!=null;b("cr:1824699")&&b("cr:1824699").flap(a,{hasImageWithSize:d});if(d)return g;c=Array.from(a.getElementsByTagName("svg"));if(b("gkx")("1621844")&&c.find(j)!=null)return g;b("cr:1824699")&&b("cr:1824699").flap(a,{noSuccessfulChecks:!0});return h}var i=function(a){return a.offsetHeight+a.offsetWidth>0},j=function(a){a=a.getBoundingClientRect();return a.height*a.width>0}}),null);
__d("CometGHLDisplayMonitor",["DebugOwl","clearTimeout","cometGHLContentDisplayCheck","recoverableViolation","setTimeoutCometLoggingPri","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=new Map(),i=1e3,j=null;a=function(a,c){h.has(a)||h.set(a,new Set());var d=h.get(a);if(d==null){b("recoverableViolation")("Expected Set to be declared for container","GHL");return{dispose:function(){}}}d.add(c);j===null&&k();return{dispose:function(){d["delete"](c),d.size===0&&(h["delete"](a),h.size===0&&(b("clearTimeout")(j),j=null))}}};f.m=a;var k=function a(){h.forEach(function(a,c){c=c.current;if(c==null||l(c)||!b("cometGHLContentDisplayCheck")(c))return;a.forEach(function(a,c){a=c.onCheck;var d=c.startTime;c=c.targetRef;c=c.current;b("DebugOwl").hoot(c);if(c==null)return;var e=l(c)!=null;b("DebugOwl").flap(c,{hiddenByFB:e});if(e)return;e=b("cometGHLContentDisplayCheck")(c);if(!e){c=Date.now()-d;a(c)}})}),j=b("setTimeoutCometLoggingPri")(a,i)},l=function(a){return a.closest==null||a.closest(n)},m={rule:{display:"mkhogb32"}},n=function(){return"."+(g||(g=b("stylex")))(m.rule).split(" ").pop()}()}),null);
__d("SearchCometResultsForcedOptInEventLogger",["ODS","SearchCometTrialExperiment"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){var d=b("SearchCometTrialExperiment").group;if(d!=="test_beta5"&&d!=="control_blue")return;b("ODS").bumpEntityKey(354,["search","comet","client_event","comet_forced_opt_in"].join("."),[d,c?"in_comet":"not_in_comet",a].join("."),1)};f.log=a}),null);
__d("CometTypeaheadDataEntryWithMetaData",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var b=a.key,c=a.label,d=a.metaData;a=a.rawData;this.$1=b;this.$2=c;this.$4=a;this.$3=d}var b=a.prototype;b.getKey=function(){return this.$1};b.getLabel=function(){return this.$2};b.getMetaData=function(){return this.$3};b.getRawData=function(){return this.$4};return a}();e.exports=a}),null);
__d("addToMap",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b,c){if(a.get(b)===c)return a;a=new Map(a);a.set(b,c);return a}}),null);
__d("removeFromMap",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){if(a.has(b)){var c=new Map(a);c["delete"](b);return c}return a}}),null);
__d("QPLAddCometRequestHeaders",["QuickPerformanceLogger","cometAsyncFetch"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){b("cometAsyncFetch").registerHeaderProvider(function(){var a=b("QuickPerformanceLogger").getActiveMarkerIDs({type:2});if(a.length>0){var c={};c["X-FB-QPL-Active-Flows"]=a.sort().join(",");return c}return{}})}}),null);
__d("QPLJoinUtils",[],(function(a,b,c,d,e,f){"use strict";f.setJoinId=a;f.markJoinRequest=b;f.markJoinResponse=c;function a(a,b,c,d){var e;c===void 0&&(c=0);a.markerAnnotate(b,{string:(e={},e.source="client",e)},{instanceKey:c});a.markerAnnotate(b,{string:(e={},e.join_id=d,e)},{instanceKey:c})}function b(a,b,c,d,e){c===void 0&&(c=0),e===void 0&&(e=a.currentTimestamp()),a.markerPoint(b,"join_request_"+d,{instanceKey:c,timestamp:e,data:d!=null?{string:{__key:d}}:null})}function c(a,b,c,d,e){c===void 0&&(c=0),e===void 0&&(e=a.currentTimestamp()),a.markerPoint(b,"join_response_"+d,{instanceKey:c,timestamp:e,data:d!=null?{string:{__key:d}}:null})}}),null);
__d("QPLUserFlow",["ErrorMetadata","ErrorPubSub","QPLJoinUtils","QuickPerformanceLogger","gkx","requireCond","cr:1752405"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){function a(){var a=this;b("cr:1752405")();b("gkx")("1742051")===!0&&(g||(g=b("ErrorPubSub"))).unshiftListener(function(c){if(c.type!=="fatal")return;var d=a.getActiveFlowIDs();if(d.length===0)return;d=Array.from(new Set(d));var e=new(b("ErrorMetadata"))();e.clearEntries();d.forEach(function(a){e.addEntry("QPL","ACTIVE_FLOW_ID",a.toString())});d=e.format();c.metadata?c.metadata=[].concat(c.metadata,d):c.metadata=d})}var c=a.prototype;c.start=function(a,c){c=c===void 0?{}:c;var d=c.instanceKey;d=d===void 0?0:d;var e=c.annotations;e=e===void 0?void 0:e;var f=c.cancelOnUnload;f=f===void 0?!0:f;var g=c.trackedForLoss;g=g===void 0?!0:g;c=c.joinID;c=c===void 0?void 0:c;b("QuickPerformanceLogger").markerStart(a,d,void 0,{cancelOnUnload:f,trackedForLoss:g,type:2});e&&b("QuickPerformanceLogger").markerAnnotate(a,e,{instanceKey:d});c&&(b("QPLJoinUtils").setJoinId(b("QuickPerformanceLogger"),a,d,c),b("QPLJoinUtils").markJoinRequest(b("QuickPerformanceLogger"),a,d,c))};c.endSuccess=function(a,c){c=c===void 0?{}:c;var d=c.instanceKey;d=d===void 0?0:d;var e=c.annotations;e=e===void 0?void 0:e;c=c.joinID;c=c===void 0?void 0:c;e&&b("QuickPerformanceLogger").markerAnnotate(a,e,{instanceKey:d});c&&b("QPLJoinUtils").markJoinResponse(b("QuickPerformanceLogger"),a,d,c);b("QuickPerformanceLogger").markerEnd(a,2,d)};c.endFailure=function(a,c,d){d=d===void 0?{}:d;var e=d.instanceKey;e=e===void 0?0:e;var f=d.debugInfo;f=f===void 0?void 0:f;var g=d.annotations;g=g===void 0?void 0:g;d=d.joinID;d=d===void 0?void 0:d;this.markError(a,c,{debugInfo:f,instanceKey:e});g&&b("QuickPerformanceLogger").markerAnnotate(a,g,{instanceKey:e});d&&b("QPLJoinUtils").markJoinResponse(b("QuickPerformanceLogger"),a,e,d);b("QuickPerformanceLogger").markerEnd(a,3,e)};c.endCancel=function(a,c){c=c===void 0?{}:c;var d=c.instanceKey;d=d===void 0?0:d;var e=c.cancelReason;e=e===void 0?4:e;var f=c.annotations;f=f===void 0?void 0:f;c=c.joinID;c=c===void 0?void 0:c;f&&b("QuickPerformanceLogger").markerAnnotate(a,f,{instanceKey:d});c&&b("QPLJoinUtils").markJoinResponse(b("QuickPerformanceLogger"),a,d,c);b("QuickPerformanceLogger").markerEnd(a,e,d)};c.addAnnotations=function(a,c,d){d=d===void 0?{}:d;d=d.instanceKey;b("QuickPerformanceLogger").markerAnnotate(a,c,{instanceKey:d})};c.addPoint=function(a,c,d){d=d===void 0?{}:d;var e=d.instanceKey;d=d.debugInfo;b("QuickPerformanceLogger").markerPoint(a,c,{data:d!=null?{string:(a={},a.uf_debug_info=d,a)}:null,instanceKey:e})};c.markError=function(a,c,d){var e;d=d===void 0?{}:d;var f=d.debugInfo;d=d.instanceKey;b("QuickPerformanceLogger").markerAnnotate(a,{bool:(e={},e.uf_has_error=!0,e)},{instanceKey:d});this.addPoint(a,c,{debugInfo:f,instanceKey:d})};c.storeBeforeNavigation=function(a,c){c=c===void 0?{}:c;c=c.instanceKey;c=c===void 0?0:c;b("QuickPerformanceLogger").markerStoreBeforeNavigation(a,{instanceKey:c})};c.getActiveFlowIDs=function(){return b("QuickPerformanceLogger").getActiveMarkerIDs({type:2})};return a}();c=new a();e.exports=c}),null);